<div>
  <form [formGroup]="companyForm">
    <!-- <div class="form-group">
    <label for="name">Company name</label>
    <input type="text" class="form-control" id="name" required />
     <div [hidden]="name.valid || name.pristine" class="alert alert-danger">
      Name is required
    </div>
  </div> -->
    <div class="form-group row">
      <label for="name" class="col-lg-3 col-6">Company name</label>
      <div class="col-lg-3 col-6">
        <input
          type="text"
          class="form-control"
          formControlName="companyName"
          id="name"
          required
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="phone" class="col-lg-3 col-6">Phone numbers</label>
      <div class="col-lg-3 col-6">
        <input
          type="tel"
          class="form-control"
          id="phone"
          formControlName="companyNumber"
          required
        />
      </div>
    </div>
    <div class="form-group row">
      <label for="address" class="col-lg-3 col-6">Address</label>
      <div class="col-lg-3 col-6">
        <input
          type="text"
          class="form-control"
          id="address"
          formControlName="companyAddress"
          required
        />
      </div>
    </div>
    <div class="button-container">
      <button type="button" (click)="addNewEmployee()">Add Employee +</button>
      <button type="button" (click)="saveForm()">Save</button>
    </div>
    <div
      formArrayName="employees"
      *ngFor="
        let employee of employeeList.value;
        let i = index;
        trackBy: trackByFn
      "
    >
      <ng-container [formGroupName]="i">
        <div class="form-group row">
          <label [for]="'employee-name' + i" class="col-lg-3 col-6"
            >Employee name</label
          >
          <div class="col-lg-3 col-6">
            <input
              type="text"
              class="form-control"
              [id]="'employee-name' + i"
              required
              formControlName="name"
            />
          </div>
        </div>
        <div class="form-group row">
          <label [for]="'employee-startDate' + i" class="col-lg-3 col-6"
            >Start Date</label
          >
          <div class="col-lg-3 col-6">
            <input
              type="date"
              class="form-control"
              [id]="'employee-startDate' + i"
              #startDate
              (change)="onChangeStartDate($event, i)"
              formControlName="fromDate"
            />
          </div>
        </div>
        <div class="form-group row" *ngIf="!!startDate.value">
          <label [for]="'employee-endDate' + i" class="col-lg-3 col-6"
            >End Date</label
          >
          <div class="col-lg-3 col-6">
            <input
              type="date"
              class="form-control"
              [id]="'employee-endDate' + i"
              formControlName="toDate"
              [required]="!!startDate.value"
              [min]="startDate.value"
            />
          </div>
        </div>
        <div class="form-group row">
          <label [for]="'employee-occupation' + i" class="col-lg-3 col-6"
            >Occupation</label
          >
          <div class="col-lg-3 col-6">
            <select
              class="form-control"
              [id]="'employee-occupation' + i"
              formControlName="occupation"
              required
            >
              <option value="SE">Software Engineer</option>
              <option value="CEO">CEO</option>
              <option value="TL">Tech Lead</option>
            </select>
          </div>
        </div>
        <div class="form-group row">
          <label [for]="'employee-salary' + i" class="col-lg-3 col-6"
            >Salary</label
          >
          <div class="col-lg-3 col-6">
            <input
              type="text"
              class="form-control"
              [id]="'employee-salary' + i"
              required
              formControlName="salary"
            />
          </div>
        </div>
      </ng-container>
    </div>
    <!-- <div *ngIf="employees.length">
      <div *ngFor="let employee of employees">
        <div class="form-group row">
          <label for="name" class="col-lg-3 col-6">Employee name</label>
          <div class="col-lg-3 col-6">
            <input type="text" class="form-control" id="name" required />
          </div>
        </div>
        <div class="form-group row">
          <label for="startDate" class="col-lg-3 col-6">Start Date</label>
          <div class="col-lg-3 col-6">
            <input type="date" class="form-control" id="startDate" #startDate (change)="onChangeDate()"/>
          </div>
        </div>
        <div class="form-group row" *ngIf="!!startDate.value">
          <label for="endDate" class="col-lg-3 col-6">End Date</label>
          <div class="col-lg-3 col-6">
            <input
              type="date"
              class="form-control"
              id="endDate"
              [required]="!!startDate.value"
              [min]="startDate.value"
            />
          </div>
        </div>
        <div class="form-group row">
          <label for="salary" class="col-lg-3 col-6">Salary</label>
          <div class="col-lg-3 col-6">
            <input type="text" class="form-control" id="salary" required />
          </div>
        </div>
      </div>
    </div> -->
  </form>
</div>
